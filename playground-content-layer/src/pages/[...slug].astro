---
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const stories = await getCollection("blog");

  return stories.map((story) => {
    return {
      params: { slug: story.data.full_slug },
      props: { story: story.data },
    };
  });
}
const { slug } = Astro.params;
const { story } = Astro.props;
console.log({ slug });
---

<BaseLayout>
  <StoryblokComponent blok={story.content} />
</BaseLayout>
